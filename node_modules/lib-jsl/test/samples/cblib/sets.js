var JSL = require('../../..');

var ruleset = [
    [   { result : '$x' },
        { $call : [ 'set.intersection',
            [ 1, 2 ,3 ],
            [ 4, 5, 6 ],
            ['$x']
        ]}
    ],
    [   { result : '$x' },
        { $call : [ 'set.union',
            [ 1, 2 , 1, 2 ],
            [ 4, 5, 3, 4  ],
            ['$x']
        ]}
    ],

    [   { result : '$x' },
        { $call : [ 'set.difference',
            [ 1, 2 , 1, 2 ],
            [ 4, 5, 3, 4  ],
            ['$x']
        ]}
    ],
    [   { result : '$x' },
        { $call : [ 'set.subset',
            [ 1, 2 ],
            [ 1, 3, 3, 2, 4  ],
            ['$x']
        ]}
    ],
];

var query =     [{result : '$result'}];
var transform = '$result';

var jsl = new JSL ({rules : ruleset, query: query, transform : transform});
var response = jsl.run();

module.exports = response;
